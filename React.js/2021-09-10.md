## React : Context API , useContext

- Context API ëŠ” react ë‚´ì¥ ê°ì²´ì…ë‹ˆë‹¤.
- react ê³µì‹ ë¬¸ì„œë¥¼ í†µí•´ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ì „ì²´ì— ë°ì´í„°ë¥¼ ê³µìœ í•˜ëŠ” ë°©ë²•

ğŸ˜€ ë°ì´í„°ë¥¼ Set í•˜ëŠ” ì£¼ì²´ 

- ê°€ì¥ ìƒìœ„ ì»´í¬ë„ŒíŠ¸

ğŸ˜€ ë°ì´í„°ë¥¼ Get í•˜ëŠ” ì£¼ì²´

- ëª¨ë“  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì ‘ê·¼
    - 3ê°€ì§€ ë°©ë²•ì´ ì¡´ì¬í•©ë‹ˆë‹¤.

### ë°ì´í„° Set í•˜ê¸°

- `PersonContext.js` íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ Contextë¥¼ ìƒì„±í•˜ì—¬ ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë°–ì—ì„œ `.Provider`ë¥¼ í†µí•´ ê°ì‹¸ëŠ” ëŠë‚Œì…ë‹ˆë‹¤.
1. ì»¨í…ìŠ¤íŠ¸ ìƒì„±

```jsx
import {React} from 'react';
const PersonContext = React.createContext();
export default PersonContext;
```

1. ì»¨í…ìŠ¤íŠ¸.í”„ë¡œë°”ì´ë”  ì‚¬ìš©

```jsx
<PersonContext.Provider value = {persons}>
  <App />
</PersonContext.Provider>
```

1. valueë¥¼ ì‚¬ìš©

```jsx
const persons = [
  {
    id: 0, name:"Mark", age: 39
  },
  {
    id:1, name: "Hanna", age:28
  }
];

<PersonContext.Provider value = {persons}>
  <App />
</PersonContext.Provider>
```

---

### ë°ì´í„°ë¥¼ Get í•˜ëŠ” 3ê°€ì§€ ë°©ë²•

### 1. Consumer

- ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ `.Consumer`ë¡œ ê°ì‹¸ì„œ ê°’ì„ ë°›ì•„ì˜¤ë©´ ë©ë‹ˆë‹¤.
- ì´ë¦„ ì„¤ì •ì€ ë§ˆìŒëŒ€ë¡œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ( ë§ˆì¹˜ ì œê°€ elë¡œ mapì˜ ìš”ì†Œë¥¼ ë°›ëŠ” ê²ƒì²˜ëŸ¼..)

```jsx
import PersonContext from "../contexts/PersonContext";

export default function Example1(){
    return (
        <PersonContext.Consumer>
            {(persons)=>{
              
            }}
        </PersonContext.Consumer>
    )
}
```

### 2. Class

- `static contextType` ìœ¼ë¡œ ì›í•˜ëŠ” ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ë©´ `this.context`ì„ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ğŸ˜… í•˜ì§€ë§Œ ì—¬ëŸ¬ ê°œì˜ ì»¨í…ìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ( í•˜ë‚˜ë§Œ ê°€ëŠ¥í•´ìš”)

```jsx
import React from "react";
import PersonContext from "../contexts/PersonContext";
export default class Example2 extends React.Component (){
    static contextType = PersonContext
    render(){
        const persons = this.context;
        return (
            <ul>

            </ul>
        )
    }
}
```

### 3. Functional (ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.)

- `useContext` Hookì„ ì‚¬ìš©í•˜ì—¬ ì¼ë°˜ ë³€ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import { useContext } from "react";
import PersonContext from "../contexts/PersonContext";

export default function Example3(){
    const persons = useContext(PersonContext)
    return (
            <ul>
                {persons.map((person)=>{
                    return (
                        <li>
                            {person.name}
                        </li>
                    )
                })}
            </ul>
    )
}
```

---
