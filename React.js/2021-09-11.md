# React Testing

## React : Javascript Unit Test

- í†µí•©í…ŒìŠ¤íŠ¸ë³´ë‹¤ ë¹ ë¥´ê³  ì‰½ìŠµë‹ˆë‹¤.
- í•˜ì§€ë§Œ, ìœ ë‹› í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí–ˆë‹¤ê³  í†µí•©í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ëŠ” ê²ƒì„ ë³´ì¥í•˜ì§€ëŠ” ëª»í•©ë‹ˆë‹¤.
- `TDD(Test Driven Development)`ë¥¼ í†µí•´ ìš°ë¦¬ì˜ ì½”ë“œ coverageë¥¼ ì˜ˆì¸¡í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í”„ë ˆì„ì›Œí¬ Jest

- JestëŠ” ê°€ì¥ ëŒ€í‘œì ì¸ Unit testing í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.
- Facebookì˜ open source ì…ë‹ˆë‹¤.

---

- ì„¤ì¹˜í•©ë‹ˆë‹¤ (ë§Œì•½ `create-react-app`ìœ¼ë¡œ ì„¤ì¹˜í–ˆë‹¤ë©´ jestëŠ” ì´ë¯¸ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

```bash
npm install jest -D
```

- `package.json` íŒŒì¼ì„ ìˆ˜ì •í•©ì‹œë‹¤.

```jsx
"scripts": {
    "test": "jest"
  },
```

1. ê°€ì¥ ê¸°ë³¸ì ì¸ í…ŒìŠ¤íŠ¸ ë°©ë²•

```jsx
test("adds 1+2 to equal 3(ì´ë¦„)",()=>{
  expect(1+2).toBe(3)
})

```

1. `describe ì‚¬ìš©í•˜ê¸°`

```jsx
describe('adds',()=>{
  it("adds 1+2 to equal 3(ì´ë¦„)",()=>{
    expect(1+2).toBe(3)
  })

  it("adds 1+2 to equal 3(ì´ë¦„)",()=>{
    expect(1+2).toBe(3)
  })

  it("adds 1+2 to equal 3(ì´ë¦„)",()=>{
    expect(1+2).toBe(3)
  })
})
```

1. ê°ì²´ ë¹„êµì—ëŠ” `toEqual`ì„ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.

```jsx
it("ageEqual",()=>{
    expect({age : 39}).toEqual({age : 39})
  })
```

1. ë‹¤ì–‘í•œ í•¨ìˆ˜ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤.

```jsx
expect(1+2).toHaveLength(3) // ê¸¸ì´ ë¹„êµ
expect({name : 'Mark'}).toHaveProperty('name') // ì†ì„±ì„ ê°€ì§€ê³  ìˆëŠ”ì§€
expect({name : "Mark"}.age).toBeDefined() // Defined ë˜ì–´ ìˆëŠ”ì§€
expect(false).toBeFalsy() // Falsy check
expect(10).toBeGreaterThanOrEqual(9) // ëŒ€ì†Œ ë¹„êµ
expect(new Foo()).toBeInstanceOf(Foo) // instance ì¸ì§€ ì²´í¬
```

1. `.not.to~`ë„ ì¡´ì¬í•©ë‹ˆë‹¤.

---

### async test with done callback

### async test with promise

### async test with async-await (ê°€ì¥ ì¢‹ì€ ë°©ë²•)

---

## React :  React Component Test

- íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¥¼ test í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `Button` ì»´í¬ë„ŒíŠ¸ë¥¼ ì²´í¬í•˜ê¸° ìœ„í•´ `Button.test.js`ë¥¼ ìƒì„±í•©ì‹œë‹¤.

---

## React : testing-library/react í™œìš©í•˜ê¸°

### ì»´í¬ë„ŒíŠ¸ê°€ ì˜ ìƒì„± ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸°

- `render`í•¨ìˆ˜ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.

```jsx
import Button from './Button'

const { render } = require("@testing-library/react");

describe('Button ì»´í¬ë„ŒíŠ¸',()=>{
  it('ì»´í¬ë„ŒíŠ¸ ì •ìƒ ìƒì„±',()=>{
    const button = render(<Button/>);
    expect(button).not.toBe(null)
  })
})
```

### Button ì»´í¬ë„ŒíŠ¸ ì•ˆì— íŠ¹ì • elementë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- `render`ë¥¼ í†µí•´ ìœ í‹¸ í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

```jsx
it('buttonì´ë¼ëŠ” elementëŠ”  HTMLButtonElementì´ë‹¤',()=>{
		// ì—¬ëŸ¬ ìœ í‹¸ í•¨ìˆ˜ë“¤ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.!
    const {getByText} = render(<Button/>);
    const buttonElement = getByText('button');
    expect(buttonElement).toBeInstanceOf(HTMLButtonElement)
  })
```

### ê¸°íƒ€

```jsx
it('ë²„íŠ¼ í´ë¦­ ì‹œ p íƒœê·¸ ì•ˆì— "ë²„íŠ¼ì´ ëˆŒë ¸ë‹¤"ë¼ê³  ì“°ì—¬ì§„ë‹¤.',()=>{
    const {getByText} = render(<Button/>);
    const buttonElement = getByText('button');

    fireEvent.click(buttonElement);
    const p = getByText('ë²„íŠ¼ì´ ë°©ê¸ˆ ëˆŒë ¸ë‹¤');
    expect(p).not.toBeNull();
    expect(p).toBeInstanceOf(HTMLParagraphElement);
  })
```

---

# React Advanced

## React : Optimizing Performance

ğŸ‘‰ í•„ìš”í•  ë•Œë§Œ ë Œë”í•œë‹¤!

- `Reconciliation` : ë Œë” ì „í›„ì˜ ì¼ì¹˜ ì—¬ë¶€ íŒë‹¨ ê·œì¹™
