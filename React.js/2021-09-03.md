# React

## React : í”„ë¡œì íŠ¸ ë§Œë“¤ê¸° create react app(CRA)

```bash
npx create-react-app tic-tac-toe
```

- `package.json` íŒŒì¼ì„ ì—´ì–´ scriptsë“¤ì„ í™•ì¸í•´ë´…ì‹œë‹¤!

`npm start` : ê°œë°œ ì„œë²„ ì˜¤í”ˆ

`npm build` : ë°°í¬ ì‹œ ì‚¬ìš©

`npm test` : Jestë¥¼ í†µí•´ test code ì‹¤í–‰

`npm eject` : React-libraryë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§ì ‘ ë‹¤ ë‹¤ë£¨ê² ë‹¤! / cra ë‚´ë¶€ì—ì„œ í•´ê²°ì´ ì•ˆë˜ëŠ” ê²½ìš° ì‚¬ìš©í•©ë‹ˆë‹¤. 

```bash
npm install serve -g
serve -s build 
```

- `-s` ì˜µì…˜ì€ ì–´ë–¤ ë¼ìš°íŒ…ì„ ìš”ì²­í•´ë„ index.htmlì„ ì‘ë‹µí•˜ë„ë¡ í•©ë‹ˆë‹¤.

---

## React : EsLint

- EsLint ë€?

    ğŸ‘‰ ì½”ë”© ìŠ¤íƒ€ì¼ì„ ë‚´ë¶€ì ì„ ê·œì •í•˜ê³  ëª¨ë“  ê°œë°œìë“¤ì´ ê³µí†µì ìœ¼ë¡œ ìŠ¤íƒ€ì¼ì„ ë§ì¶”ëŠ” ì¼ì´ í•„ìš”í•  ë•Œ Lintë¼ëŠ” Toolì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```bash
npm init -y
npm install eslint -D
npx eslint --init 
```

ğŸ‘‰ `.eslintrc.js` íŒŒì¼ ë‚´ë¶€ì˜ rule ì†ì„±ì—ì„œ ì›í•˜ëŠ” ë¬¸ë²• ìŠ¤íƒ€ì¼ë“¤ì„ í™ˆí˜ì´ì§€ì—ì„œ ê°€ì ¸ì™€ì„œ ë³µì‚¬ ë¶™ì—¬ë„£ê¸°í•˜ë©´ ì›í•˜ëŠ” ì½”ë“œë“¤ì„ ì²´í¬í•  ìˆ˜ ìˆê³ , ê³µí†µì ìœ¼ë¡œ ì›í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ë§ì¶° ë‚˜ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- index.js íŒŒì¼ì„ ì²´í¬í•´ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤.

```bash
npx eslint index.js // í„°ë¯¸ë„ ì°½ì—ì„œ í‹€ë¦° ë¶€ë¶„ì„ ì²´í¬í•´ì¤ë‹ˆë‹¤.
npx eslint index.js --fix // ê³ ì³ì£¼ê¸°ê¹Œì§€ í•©ë‹ˆë‹¤.
```

### CRAì—ì„œ Eslint ì‚¬ìš©í•˜ê¸°

- `package.json` íŒŒì¼ ë‚´ë¶€ì—ì„œ `eslintConfig` ì—ì„œ ì‘ì„±í•˜ë©´ ë˜ê² ìŠµë‹ˆë‹¤.
- ê¸°ë³¸ì ìœ¼ë¡œ Facebookì˜ ê´€ë¦¬ë¥¼ ë°›ê³  ìˆê¸° ë•Œë¬¸ì— ì˜ ê´€ë¦¬ê°€ ë˜ê³  ìˆì§€ë§Œ, ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´

```jsx
"rules" : {
	//ì›í•˜ëŠ” ë£°ì„ ì‘ì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
}
```

---

## React : Prettier

- Prettier ê°€ í•˜ëŠ” ì¼

    ğŸ‘‰ Code Formatter ì…ë‹ˆë‹¤.

    ```bash
    npm install prettier -D

    npx prettier index.js // ì½˜ì†” ì°½ì— ì´ë ‡ê²Œ ë°”ê¿€ ê±°ë¼ê³  ì•Œë ¤ì¤ë‹ˆë‹¤.
    npx prettier index.js --write // ë°”ë¡œ ë°”ê¿”ì£¼ì„¸ìš”.
    ```

    - í•˜ì§€ë§Œ ëŠ˜ ì´ë ‡ê²Œ `npx` ëª…ë ¹ì–´ëŠ” ì¢€ ê·¸ë ‡ì£ ..

ğŸ˜€ `extension` ì—ì„œ prettier ì„¤ì¹˜ â†’ íŒŒì¼ â†’ ì„¤ì • â†’ default format prettier ë¡œ ë°”ê¾¸ê¸° â†’ ì €ì¥í•  ë•Œ prettier ì‹¤í–‰ ëª©ë¡ ì²´í¬

- `.prettierrc.json` ë¥¼ ë§Œë“¤ì–´ì„œ ë³¸ì¸ì´ ì›í•˜ëŠ”ëŒ€ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ¤” `eslint`ì™€ `prettier`ê°€ ì¶©ëŒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ `package.json íŒŒì¼ ë‚´ì˜ eslintConfig` ì†ì„±ì—ì„œ `prettier`ë¥¼ ë°˜ë“œì‹œ ì¶”ê°€í•´ ì¤ì‹œë‹¤.

---

## React : Husky

- Git Hookì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.
- ì˜ˆë¥¼ ë“¤ë©´ ì–´ë–¤ íŒŒì¼ë“¤ì´ ì»¤ë°‹ë˜ê¸° ì „ì— eslint,prettierì‘ì—… ë“¤ì„ í•´ì£¼ê² ìŠµë‹ˆë‹¤.

```bash
git init
npm install husky -D
npx husky install // Git Hook ì´ ì„¤ì¹˜ë©ë‹ˆë‹¤.
```

```json
/** Package.json ì— ë‹¤ìŒì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.**/
"scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "prepare" : "husky install"
} ,
```

```json
npx husky add .husky/pre-commit "npm test"
```

---

## React : Husky , Eslint, prettier ì—°ê²° (Lint-staged)

```jsx
npm install lint-staged -D
npx husky add husky/pre-commit "lint-staged"
```

```jsx
"lint-staged" : {
	"**/*.js" : [
		"eslint --fix",
		"prettier --write",
		"git add"
	]
}
```

---

## React : Create-React-App ì‹œì‘ ì½”ë“œ ì´í•´í•˜ê¸°

`index.js` : ì‹œì‘ ì§€ì ì…ë‹ˆë‹¤,  `id=root` ì¸ ì¹œêµ¬ëŠ” `public/index.html` ì†ì— ìˆìŠµë‹ˆë‹¤.

`App.js` : Appì´ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

`App.css` : App ì»´í¬ë„ŒíŠ¸ì™€ ê´€ë ¨ëœ styleì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ˜… ì´ë¯¸ì§€ëŠ” ë°ì´í„°ì²˜ëŸ¼ import í•  ìˆ˜ ìˆê³ , `img src=` ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë‚˜ src ì†ì„±ì„ ì´ìš©í•  ê²½ìš° public ì†ì— ì¡´ì¬í•˜ëŠ” ì´ë¯¸ì§€ ê²½ë¡œë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

---

## React : React Developer Tools

- ê° ë¸Œë¼ìš°ì €ì—ì„œ ì„¤ì¹˜í•˜ì—¬ React ë””ë²„ê¹…ì„ ë•ëŠ” íˆ´ì…ë‹ˆë‹¤.
    - `npm start`ë¡œ ì‹¤í–‰ë˜ëŠ” í˜ì´ì§€ì—ì„œ ê°œë°œì ë„êµ¬ë¥¼ ë³´ë©´ `Component, Profiler` ë¼ëŠ” ìƒˆë¡œìš´ íƒ­ì´ ìƒê¹ë‹ˆë‹¤.
    - ì—¬ê¸°ì„œ ì»´í¬ë„ŒíŠ¸ ë³„ë¡œ ì—¬ëŸ¬ ê°€ì§€ ê°œë°œ ë„êµ¬ë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - props, stateì— ê´€í•œ ì •ë³´ë„ ë°”ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## React : Routing

ğŸ˜… êµ¬í˜• ë¸Œë¼ìš°ì €ëŠ” ì—¬ëŸ¬ í˜ì´ì§€ë¥¼ ë³´ëŠ” ê²½ìš° ê° URLì„ ë°›ì•„ì„œ ì„œë²„ì—ê²Œ HTMLì„ ìš”ì²­í•˜ê²Œ ë©ë‹ˆë‹¤. 

ğŸ˜€ í•˜ì§€ë§Œ `SPA(Single Page Application)`ìœ¼ë¡œ ë„˜ì–´ì˜¨ Reactë¥¼ ì‚¬ìš©í•˜ê²Œ ëœ ê²½ìš° `í•˜ë‚˜ì˜ í° ì•±`ì„ ë°›ì•„ì˜¤ê²Œ ë˜ì–´ì„œ ë¸Œë¼ìš°ì €ì—ì„œ URLì— ë”°ë¼ ì–´ë–¤ ê±¸ ë³´ì—¬ì¤„ì§€ ê²°ì •í•˜ê²Œ ë©ë‹ˆë‹¤.

- ì´ëŸ¬í•œ SPA ë¸Œë¼ìš°ì§•ì€ Reactì˜ ë²”ìœ„ì—ì„œ ë²—ì–´ë‚˜ëŠ” ì¼ì…ë‹ˆë‹¤. ğŸ¤”ğŸ¤”

---

- ê°€ì¥ ëŒ€í‘œì ì¸ `react-router-domì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.`

```bash
npm install react-router-dom
```

- Facebook ê³µì‹ íŒ¨í‚¤ì§€ëŠ” ì•„ë‹™ë‹ˆë‹¤.

---

- ì‚¬ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. `BrowserRouter`, `Route`ë¥¼ ì´ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚½ì…í•©ë‹ˆë‹¤.

```jsx
import { BrowserRouter, Route } from 'react-router-dom';
import Home from './Home';
import Profile from './Profile'
import About from './About';
function App() {
  return (
    <BrowserRouter>
    <Route path="/" exact component = {Home}></Route>
    <Route path="/profile" exact component = {Profile}></Route>
    <Route path="/about" exact component = {About}></Route>
    </BrowserRouter>
  );
}

export default App;
```

---

## React : Dynamic Routing - URLì— ë³€ìˆ˜ ë°›ì•„ì˜¤ê¸°

- pathì˜ urlì„ ë°›ì„ ìˆ˜ ìˆëŠ” `Route path=`ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.

```jsx
// URL ì´ /profile/1 ì´ë©´ id=1ì´ ë©ë‹ˆë‹¤.
<Route path="/profile/:id" component = {Profile}></Route>
```

- Routeë¡œ ì—°ê²°ëœ componentëŠ” props ì†ì„±ìœ¼ë¡œ `history, location, match` 3ê°€ì§€ë¥¼ ë°›ìŠµë‹ˆë‹¤.
- [`props.match.params.id`](http://props.match.params.id) ë¡œ ì ‘ê·¼í•˜ë©´ 1ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - ğŸ˜… ë¬´ì¡°ê±´ ë¬¸ìì—´ì´ê¸° ë•Œë¬¸ì— 1ë„ ë¬¸ìì—´ì„ì„ ê°„ê³¼í•˜ì§€ ë§™ì‹œë‹¤.

---

## React : Dynamic Routing - Query String ë°›ê¸°

- /about?name=mark ë¼ëŠ” URL ì˜ ê²½ìš°
- `[props.location.search](http://props.location.search)` ë¼ëŠ” ê³³ì— `?name=mark` ê°€ ë“¤ì–´ìˆê²Œ ë©ë‹ˆë‹¤.

ğŸ¤” ì–´ë–»ê²Œ `?name=mark`ë¥¼ ì‚¬ìš©í• ê¹Œìš”?

1. URLSearchParam ë‚´ì¥ ê°ì²´ ì‚¬ìš©í•˜ê¸°

```jsx
const searchParams = props.location.search
const obj = new URLSearchParams(searchParams)
console.log(obj.get('name')) //mark
```

ğŸ˜… methodë¥¼ ë‹¤ ì•Œì•„ì•¼ í•˜ëŠ” ê·€ì°®ìŒì´ ì¡´ì¬

ğŸ˜… ë¸Œë¼ìš°ì €ì— ë”°ë¼ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

1. `npm install query-string` ì‚¬ìš©í•˜ê¸°

```jsx
const searchParams = props.location.search
const query = queryString.parse(searchParams)
console.log(query.name)
```

ğŸ˜€ ë°”ë¡œ ê°ì²´ë¡œ ì²´ì´ë‹ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## React : Switch & NotFound

### Switch

1. ì—¬ëŸ¬ Route ì¤‘ì— ì²˜ìŒìœ¼ë¡œ ë§ëŠ” ì¹œêµ¬ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. `exact` í‚¤ì›Œë“œë¥¼ ì•ˆ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. ë§Œì•½ ë§ëŠ” Route ê°€ ì—†ë‹¤ë©´ `NotFound`ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì‚¬ìš© ì˜ˆì‹œ

```jsx
<BrowserRouter>
  <Switch>
    <Route path="/profile/:id" component = {Profile}></Route>
    <Route path="/profile" component = {Profile}></Route>
    <Route path="/about" component = {About}></Route>
    <Route path="/" exact component = {Home}></Route> // ê°€ì¥ ë„“ì€ ë²”ìœ„ëŠ” ë‚´ë ¤ì¤ë‹ˆë‹¤, root ê²½ë¡œëŠ” exact ì‚¬ìš©í•©ë‹ˆë‹¤.
    <Route component={NotFound}></Route> // ëª¨ë“  ê²½ìš°ì— ê±¸ë¦½ë‹ˆë‹¤.
  </Switch>
</BrowserRouter>
```

---

## React : JSX Linkë¡œ ë¼ìš°íŒ… ì´ë™í•˜ê¸°

ğŸ˜… `a íƒœê·¸`ë¡œ ì´ë™í•  ê²½ìš° ëª¨ë“  html, js, ... íŒŒì¼ë“¤ì„ ë‹¤ì‹œ ë‹¤ìš´ë¡œë“œ í•©ë‹ˆë‹¤. ì‹¤í–‰ì€ ë˜ì§€ë§Œ, íš¨ìœ¨ì ì¸ ì¸¡ë©´ì—ì„œ êµ‰ì¥íˆ ì•ˆ ì¢‹ê³  `SPAì˜ íŠ¹ì§•ì„ ìƒì–´ë²„ë¦¬ê²Œ ë©ë‹ˆë‹¤.`

```jsx
<Link to="/profile"> Profile </Link>
```

- SPA íŠ¹ì§•ì„ ì‚´ë¦¬ë©´ì„œ ë‹¤ì‹œ ë‹¤ìš´ë¡œë“œ í•˜ì§€ ì•Šê³  ë¡œë”© ì—†ì´ ë°”ë¡œ ë Œë”ë§ ë©ë‹ˆë‹¤.
- ì‹ ê¸°í•˜ê²Œ ê°œë°œìë„êµ¬ë¡œ ë³´ë©´ aíƒœê·¸ë¡œ ë˜ì–´ìˆë„¤ìš”~

---

## React : JSX NavLinkë¡œ ë¼ìš°íŒ… ì´ë™í•˜ê¸°

### NavLink vs Link

- NavLink ëŠ” `active`ê°€ ìˆìŠµë‹ˆë‹¤. ë” ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
- ì¦‰, í˜„ì¬ ë¸Œë¼ìš°ì§• ìœ„ì¹˜ì™€ `Link to`ì˜ ìœ„ì¹˜ê°€ ì¼ì¹˜í•˜ëŠ” ê²½ìš° ë¬´ì–¸ê°€ë¥¼ í™œì„±í™” ì‹œí‚µë‹ˆë‹¤.

    ğŸ¤” í•˜ì§€ë§Œ `NavLink ëŠ” exactë¥¼ ë‹¤ì‹œ ì‚¬ìš©í•´ì¤˜ì•¼ ê·¸ ê²½ë¡œì—ì„œë§Œ activeStyleì´ ì ìš©ë©ë‹ˆë‹¤.`

```jsx
const Green = {
  color : "green"
} 
<NavLink to="/" exact activeStyle={Green}>Home</NavLink>
```

- `isActive`ë¡œ `props(location, history, match)` ê°€ ìˆëŠ” ê²½ìš°ë¥¼ ë‹¤ë£° ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
<NavLink to="/about" activeStyle={Green} 
	isActive={(match,location)=>{
    return location.search===''
}}>About</NavLink>
```

---

## React : JSë¡œ ë¼ìš°íŒ… ì´ë™í•˜ê¸°

- ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ê³„ì†ì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ê²½ìš° `propsë¥¼ ê³„ì† ë‚´ë ¤ë³´ë‚´ì¤˜ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`
- ğŸ¤” **êµ‰ì¥íˆ ë¹„íš¨ìœ¨ì ì´ê³  ì˜¤ë¥˜ë¥¼ ë²”í•  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤!**

### í•´ê²°ë²•

### 1. HOC

```jsx
import { withRouter } from "react-router"

export default withRouter(function (props){
  return (
    <div>
      <h2> ë¡œê·¸ì¸ í˜ì´ì§€ ì…ë‹ˆë‹¤.</h2>
      <LoginButton ></LoginButton>
    </div>
  )
})
```

- `withRouter()` ë¡œ ê°ì‹¸ì¤ë‹ˆë‹¤.
- í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ë„ ëª¨ë‘ propsê°’ë“¤ì„ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ì •ë§ ê°„í¸í•˜ë„¤ìš”!

### 2. Hook

---

## React : Redirect

- RedirectëŠ” ë°”ë¡œ ì¬ì—°ê²°ì…ë‹ˆë‹¤.
- ë¡œê·¸ì¸ì´ ë˜ì–´ ìˆë‹¤ë©´ ë£¨íŠ¸ ê²½ë¡œë¡œ ë°”ë¡œ ì¬ì—°ê²°í•˜ê³ , ë¡œê·¸ì¸ì´ ì•ˆë˜ì–´ ìˆë‹¤ë©´ ë¡œê·¸ì¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë„ì›ë‹ˆë‹¤.

```jsx
import { Redirect } from 'react-router-dom';

<Route path="/login" render={()=>{
      isLogin ? <Redirect to="/" /> : <Login />
}} />
```
